---

copyright:
  years: 2017
lastupdated: "28-11-2017"

---
{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:pre: .pre}
{:screen: .screen}
{:tip: .tip}

# Service credentials

A service credential provides the necessary information to connect an application to {{site.data.keyword.cos_short}} packaged in a JSON document.  Service credentials are always associated with a Service ID, and new Service IDs can be created along with a new credential.  The credential contains the following values:

Field name | Value
--|--
`apikey`  |  New API key created for the Service ID
`endpoints`  |  Link to JSON representation of available endpoints
`iam_apikey_description`  |  API key description - initially autogenerated but editable
`iam_apikey_name`  |  API key name - initially autogenerated but editable
`iam_role_crn`  |  Unique identifier for the assigned role
`iam_serviceid_crn`  |  Unique identifier for the Service ID
`resource_instance_id`  |  Unique identifier for the instance of {{site.data.keyword.cos_short_notm}} the credential will access

This is an example of a service credential:

```json
{
  "apikey": "0viPHOY7LbLNa9eLftrtHPpTjoGv6hbLD1QalRXikliJ",
  "endpoints": "https://cos-service.bluemix.net/endpoints",
  "iam_apikey_description": "Auto generated apikey during resource-key operation for Instance - crn:v1:bluemix:public:cloud-object-storage:global:a/3ag0e9402tyfd5d29761c3e97696b71n:d6f74k03-6k4f-4a82-b165-697354o63903::",
  "iam_apikey_name": "auto-generated-apikey-f9274b63-ef0b-4b4e-a00b-b3bf9023f9dd",
  "iam_role_crn": "crn:v1:bluemix:public:iam::::serviceRole:Manager",
  "iam_serviceid_crn": "crn:v1:bluemix:public:iam-identity::a/3ag0e9402tyfd5d29761c3e97696b71n::serviceid:ServiceId-540a4a41-7322-4fdd-a9e7-e0cb7ab760f9",
  "resource_instance_id": "crn:v1:bluemix:public:cloud-object-storage:global:a/3ag0e9402tyfd5d29761c3e97696b71n:d6f74k03-6k4f-4a82-b165-697354o63903::"
}
```

## Understanding the `endpoints` objects
{: #endpoints}

The `endpoints` URL provided as part of the service credential provides a list of all possible endpoints that can be used when connecting a client:

```json
{
  "identity-endpoints": {
    "iam-token": "iam.bluemix.net",
    "iam-policy": "iampap.bluemix.net"
  },
  "service-endpoints": {
    "cross-region": {
      "us": {
        "public": {
          "us-geo": "s3-api.us-geo.objectstorage.softlayer.net",
          "Dallas": "s3-api.dal-us-geo.objectstorage.softlayer.net",
          "Washington": "s3-api.wdc-us-geo.objectstorage.softlayer.net",
          "San Jose": "s3-api.sjc-us-geo.objectstorage.softlayer.net"
        },
        "private": {
          "us-geo": "s3-api.us-geo.objectstorage.service.networklayer.com",
          "Dallas": "s3-api.dal-us-geo.objectstorage.service.networklayer.com",
          "Washington": "s3-api.wdc-us-geo.objectstorage.service.networklayer.com",
          "San Jose": "s3-api.sjc-us-geo.objectstorage.service.networklayer.com"
        }
      },
      "eu": {
        "public": {
          "eu-geo": "s3.eu-geo.objectstorage.softlayer.net",
          "Amsterdam": "s3.ams-eu-geo.objectstorage.softlayer.net",
          "Frankfurt": "s3.fra-eu-geo.objectstorage.softlayer.net",
          "Milan": "s3.mil-eu-geo.objectstorage.softlayer.net"
        },
        "private": {
          "eu-geo": " s3.eu-geo.objectstorage.service.networklayer.com",
          "Amsterdam": "s3.ams-eu-geo.objectstorage.service.networklayer.com",
          "Frankfurt": "s3.fra-eu-geo.objectstorage.service.networklayer.com",
          "Milan": "s3.mil-eu-geo.objectstorage.service.networklayer.com"
        }
      }
    },
    "regional": {
      "us-south": {
        "public": {
          "us-south": "s3.us-south.objectstorage.softlayer.net"
        },
        "private": {
          "us-south": "s3.us-south.objectstorage.service.networklayer.com"
        }
      },
      "us-east": {
        "public": {
          "us-east": "s3.us-east.objectstorage.softlayer.net"
        },
        "private": {
          "us-east": "s3.us-east.objectstorage.service.networklayer.com"
        }
      }
    }
  }
}
```

When creating a client using a library that requires an "auth" endpoint value, you need to add `/oidc/token` to end of the `iam-token` URL provided above.
{:tip}

## Using service credentials for single-bucket access
{: #single-bucket}

When a service credential is created, the underlying Service ID is granted a role on the entire instance of {{site.data.keyword.cos_short}}. If the intention that the credential be used to grant access to a subset of buckets and not the entire instance, this policy will need to be edited.  See the [Bucket permissions](/docs/services/cloud-object-storage/iam/buckets.html) page for more details.
